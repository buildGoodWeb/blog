{"componentChunkName":"component---src-templates-blog-post-js","path":"/npm-build-ts2js/","webpackCompilationHash":"fe4b98b4e443afde89a7","result":{"data":{"mdx":{"id":"59c59c97-761e-51ec-9f1b-d985379181db","excerpt":"最近用 React + Typescript 写了 SVG 编译成 Inline SVG（React SVG）的应用。通过  tsc  命令打包成  *.js  文件，然后在外部引用。对打包可用性进行，通过使用以及测试引入验证。 使用 引入以及测试 tsc 命令打包 打包的代码 lib-tsconfig.json…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"React Typescript 打包方案\",\n  \"date\": \"2019-07-15T00:00:00.000Z\",\n  \"tag\": \"Babel, React\",\n  \"description\": \"提供 React + Typescript 代码打包的两种方案。\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u6700\\u8FD1\\u7528 React + Typescript \\u5199\\u4E86 SVG \\u7F16\\u8BD1\\u6210 Inline SVG\\uFF08React SVG\\uFF09\\u7684\\u5E94\\u7528\\u3002\\u901A\\u8FC7 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tsc\"), \" \\u547D\\u4EE4\\u6253\\u5305\\u6210 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"*.js\"), \" \\u6587\\u4EF6\\uFF0C\\u7136\\u540E\\u5728\\u5916\\u90E8\\u5F15\\u7528\\u3002\\u5BF9\\u6253\\u5305\\u53EF\\u7528\\u6027\\u8FDB\\u884C\\uFF0C\\u901A\\u8FC7\\u4F7F\\u7528\\u4EE5\\u53CA\\u6D4B\\u8BD5\\u5F15\\u5165\\u9A8C\\u8BC1\\u3002\"), mdx(\"h2\", null, \"\\u4F7F\\u7528\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"scripts\\\": {\\n     \\\"wizard-icons\\\": \\\"git+https://github.com/xxx-icons.git\\\"\\n  }\\n}\\n\")), mdx(\"p\", null, \"\\u5F15\\u5165\\u4EE5\\u53CA\\u6D4B\\u8BD5\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"// index.js \\u6587\\u4EF6\\u5F15\\u7528\\nimport icons from 'xxx-icons';\\n// index.test.js UT \\u6D4B\\u8BD5\\nimport React from 'react';\\nimport Icon from './index';\\nimport { render } from 'enzyme';\\n\\ndescribe('Icon', () => {\\n  it('should render default ui', () => {\\n    const icon = render(<Icon type=\\\"xxx-icon\\\"/>);\\n    expect(icon).toMatchSnapshot();\\n  });\\n})\\n\")), mdx(\"h2\", null, \"tsc \\u547D\\u4EE4\\u6253\\u5305\"), mdx(\"p\", null, \"\\u6253\\u5305\\u7684\\u4EE3\\u7801\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"scripts\\\" : {\\n    \\\"ts2js\\\": \\\"tsc --p ./lib-tsconfig.json\\\"\\n  } \\n}\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lib-tsconfig.json\"), \" \\u914D\\u7F6E\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"compilerOptions\\\": {\\n    \\\"outDir\\\": \\\"./lib/\\\",\\n    \\\"module\\\": \\\"commonjs\\\",\\n    \\\"declaration\\\": true,\\n    \\\"target\\\": \\\"es5\\\",\\n    \\\"jsx\\\": \\\"react\\\",\\n    \\\"moduleResolution\\\": \\\"node\\\",\\n    \\\"allowSyntheticDefaultImports\\\": true,\\n    \\\"forceConsistentCasingInFileNames\\\": true,\\n    \\\"suppressImplicitAnyIndexErrors\\\": true,\\n    \\\"strict\\\": true\\n  }\\n}\\n\")), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u5F97\\u5230 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"*.js\"), \" \\u548C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"*.d.ts\"), \" \\u6587\\u4EF6\\u3002\\u6253\\u5305\\u6587\\u4EF6\\u4EE3\\u7801\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// *.js\\n\\\"use strict\\\";\\nvar __assign = (this && this.__assign) || function () {\\n    __assign = Object.assign || function(t) {\\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\\n            s = arguments[i];\\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\\n                t[p] = s[p];\\n        }\\n        return t;\\n    };\\n    return __assign.apply(this, arguments);\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nvar react_1 = require(\\\"react\\\");\\nvar SvgCycle = function (props) { return (react_1.default.createElement(\\\"svg\\\", __assign({ viewBox: \\\"0 0 32 32\\\", width: \\\"1em\\\", height: \\\"1em\\\" }, props),\\n    react_1.default.createElement(\\\"path\\\", { d: \\\"M12.244 2.922L11.648 1C5.214 2.898.5 8.88.5 15.958c0 4.766 2.16 9.012 5.52 11.874L1.854 32h10V22l-4.412 4.412C4.438 23.92 2.5 20.172 2.5 15.958c0-6.176 4.124-11.394 9.744-13.036zm13.702 1.134L30 0H20v10l4.518-4.518c3.028 2.49 4.982 6.246 4.982 10.478 0 6.25-4.226 11.516-9.952 13.09l.484 1.952c6.596-1.794 11.466-7.848 11.466-15.042.002-4.786-2.17-9.046-5.552-11.904z\\\" }))); };\\nexports.default = SvgCycle;\\n// *.d.ts\\nimport React from \\\"react\\\";\\ndeclare const SvgClose: (props: React.SVGProps<SVGSVGElement>) => JSX.Element;\\nexport default SvgClose;\\n\")), mdx(\"h2\", null, \"Babel \\u547D\\u4EE4\\u6253\\u5305\"), mdx(\"h3\", null, \"\\u5B89\\u88C5\\u4F9D\\u8D56\\u5305\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn add --dev \\\\\\n  @babel/core \\\\\\n  @babel/cli \\\\\\n  @babel/preset-env \\\\\\n  @babel/preset-typescript \\\\\\n  typescript\\n\")), mdx(\"h3\", null, \"\\u914D\\u7F6E\\u6587\\u4EF6\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"babel.config.js\"), \" \\u914D\\u7F6E\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"module.exports = {\\n  presets: ['@babel/preset-typescript', '@babel/preset-env']\\n}\\n\")), mdx(\"h3\", null, \"\\u547D\\u4EE4\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"scripts\\\" : {\\n    \\\"babel src --out-dir lib --extensions '.ts,.tsx'\\\",\\n  } \\n}\\n\")), mdx(\"p\", null, \"\\u6253\\u5305\\u4EE3\\u7801\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// *.js\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports[\\\"default\\\"] = void 0;\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \\\"default\\\": obj }; }\\n\\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\\n\\nvar SvgClose = function SvgClose(props) {\\n  return _react[\\\"default\\\"].createElement(\\\"svg\\\", _extends({\\n    viewBox: \\\"0 0 32 32\\\",\\n    width: \\\"1em\\\",\\n    height: \\\"1em\\\"\\n  }, props), _react[\\\"default\\\"].createElement(\\\"path\\\", {\\n    d: \\\"M30 3.346L28.654 2 16 14.654 3.346 2 2 3.346 14.654 16 2 28.654 3.346 30 16 17.346 28.654 30 30 28.654 17.346 16z\\\"\\n  }));\\n};\\n\\nvar _default = SvgClose;\\nexports[\\\"default\\\"] = _default;\\n\")), mdx(\"h3\", null, \"\\u6CE8\\u610F\"), mdx(\"p\", null, \"babel \\u6CA1\\u6709\\u6253\\u5305 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"*.d.js\"), \" \\u6587\\u4EF6\\uFF0C\\u6240\\u4EE5\\u5728\\u505A TS \\u5F00\\u53D1\\u65F6\\u9700\\u8981\\u58F0\\u660E\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// global.d.ts\\ndeclare module 'xxx-icons';\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"value":"使用","depth":2},{"value":"tsc 命令打包","depth":2},{"value":"Babel 命令打包","depth":2},{"value":"安装依赖包","depth":3},{"value":"配置文件","depth":3},{"value":"命令","depth":3},{"value":"注意","depth":3}],"frontmatter":{"title":"React Typescript 打包方案","date":"2019-07-15","description":"提供 React + Typescript 代码打包的两种方案。"}},"file":{"relativePath":"npm-build-ts2js.pdf","publicURL":"/blog/static/npm-build-ts2js-3e32ac23c173d3ccafc9237d3b0b3aaf.pdf"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/npm-build-ts2js/","previous":{"fields":{"slug":"/performance/"},"frontmatter":{"title":"前端性能分析"}},"next":{"fields":{"slug":"/react-svg/"},"frontmatter":{"title":"React Icon SVG"}}}}}