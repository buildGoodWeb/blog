{"componentChunkName":"component---src-templates-blog-post-js","path":"/k8s/","webpackCompilationHash":"fe4b98b4e443afde89a7","result":{"data":{"mdx":{"id":"9d9f076c-d60c-5c37-86db-0ef9ee934ccb","excerpt":"\n 图片来源于 Install Kubernetes: The Ultimate Guide   Kubernetes 简介 Kubernetes…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Kubernetes 管理 Docker 容器\",\n  \"date\": \"2020-12-18T00:00:00.000Z\",\n  \"tags\": \"Kubernetes\",\n  \"description\": \"MacOS 平台 Kubernetes 管理 Docker 容器\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"736px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"81.38586956521739%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0klEQVQ4y6VUu3LcMAz0//9BulR2l5lMWn9BCk+apLjCyaSIZYk8SSedxBe4BqDXXU5JinBmh6QILoAloLucM2TklP4fMeLuinBe7438D6gN0S3hHm7IM/a/M4cS5nmDP0RI7DnxuSDOs67jMkckttEIt1sJPhFGH+CdAzF5YsjsQ2QiguN5IfAhsH9C4G/iUBwpIc2X5KB1Cceux6ut4cQ7ZUSGEHnejzyLYh8fv+L+0xf0g1fSJWIlHNmw9VEJJWxPUExabYQuJHUi4/2HJ7x7+IzuHHR/Reh50booQuF7PeJgBzUSR47TlOhVKz53zuNXUeDw/BPfDj9QlCWc96vGa8pD5A98yZz5QucnCRKt8orxolPTtnhhUmMNbF0jxHhNuFwa5DGYpPeTXkvKMuQRLsskSeREF2WUt0e5rMOGUy/rBlVlOJWAnnUb4/a652FAWVWorOUILUpj0J5O6nAlxE4d7ha2VAPbeNZM4GZcRp8p7XTKXtv9pSWv7G5ab672BdB50jN1J4TiRX8A6phu7XOK06OIAf1+yJAUFdI1XYdYlaCVcDvfnM+vLOIX3B3GHlnwBRZ102gxl20PwyUiXWSONSojZ+20ZruuP69SvQEyK+ioR0hSjgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"k8s minikube\",\n    \"title\": \"k8s minikube\",\n    \"src\": \"/blog/static/ca569ab2ed71fc00474875d0ce18866b/fddbb/guide-k8s-minikube.png\",\n    \"srcSet\": [\"/blog/static/ca569ab2ed71fc00474875d0ce18866b/6a467/guide-k8s-minikube.png 210w\", \"/blog/static/ca569ab2ed71fc00474875d0ce18866b/635b1/guide-k8s-minikube.png 420w\", \"/blog/static/ca569ab2ed71fc00474875d0ce18866b/fddbb/guide-k8s-minikube.png 736w\"],\n    \"sizes\": \"(max-width: 736px) 100vw, 736px\",\n    \"loading\": \"lazy\"\n  })), \"\\n    \"), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\u56FE\\u7247\\u6765\\u6E90\\u4E8E\"), mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://platform9.com/docs/install-kubernetes-the-ultimate-guide/\"\n  }), \"Install Kubernetes: The Ultimate Guide\"), \" \"), mdx(\"h2\", null, \"Kubernetes \\u7B80\\u4ECB\"), mdx(\"p\", null, \"Kubernetes \\u662F\\u5BB9\\u5668\\u96C6\\u7FA4\\u7BA1\\u7406\\u7CFB\\u7EDF\\uFF0C\\u662F\\u4E00\\u4E2A\\u5F00\\u6E90\\u7684\\u5E73\\u53F0\\uFF0C\\u53EF\\u4EE5\\u5B9E\\u73B0\\u5BB9\\u5668\\u96C6\\u7FA4\\u7684\\u81EA\\u52A8\\u5316\\u90E8\\u7F72\\u3001\\u81EA\\u52A8\\u6269\\u7F29\\u5BB9\\u3001\\u7EF4\\u62A4\\u7B49\\u529F\\u80FD\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5FEB\\u901F\\u90E8\\u7F72\\u5E94\\u7528\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5FEB\\u901F\\u6269\\u5C55\\u5E94\\u7528\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u65E0\\u7F1D\\u5BF9\\u63A5\\u65B0\\u7684\\u5E94\\u7528\\u529F\\u80FD\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8282\\u7701\\u8D44\\u6E90\\uFF0C\\u4F18\\u5316\\u786C\\u4EF6\\u8D44\\u6E90\\u7684\\u4F7F\\u7528\")), mdx(\"h2\", null, \"Minikube \\u7B80\\u4ECB\"), mdx(\"p\", null, \"Minikube \\u53EF\\u4EE5\\u5B9E\\u73B0\\u4E00\\u79CD\\u8F7B\\u91CF\\u7EA7\\u7684 Kubernetes \\u96C6\\u7FA4\\uFF0C\\u901A\\u8FC7\\u5728\\u672C\\u5730\\u8BA1\\u7B97\\u673A\\u4E0A\\u521B\\u5EFA\\u865A\\u62DF\\u673A\\u5E76\\u90E8\\u7F72\\u53EA\\u5305\\u542B\\u5355\\u4E2A\\u8282\\u70B9\\u7684\\u7B80\\u5355\\u96C6\\u7FA4\"), mdx(\"h2\", null, \"MacOS \\u7CFB\\u7EDF\\u5B89\\u88C5\\u4F9D\\u8D56\"), mdx(\"h3\", null, \"\\u5B89\\u88C5\\u4F9D\\u8D56\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"# \\u547D\\u4EE4\\u884C\\u5DE5\\u5177\\nbrew install kubectl\\n\\n\\nbrew install minikube\\n# \\u5982\\u679C\\u9047\\u5230\\u6743\\u9650\\u6587\\u56FE\\nsudo chown -R $(whoami) /usr/local/lib/pkgconfig\\n\\n## VM \\u9A71\\u52A8\\u7A0B\\u5E8F VirtualBox\\nbrew install docker-machine-driver-hyperkit\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"~/.kube/config\"), \" \\u6587\\u4EF6\\u4E2D\\u67E5\\u770B\\u6240\\u6709\\u53EF\\u7528\\u7684\\u73AF\\u5883\")), mdx(\"h3\", null, \"\\u542F\\u52A8\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"# \\u53EF\\u6DFB\\u52A0\\u53C2\\u6570\\n# --vm-driver=hyperkit\\nminikube start\\n\\nminikube dashboard\\n\")), mdx(\"h3\", null, \"Minikube Dashboard\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"840px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/blog/static/9e5dbea1d5a075f4a905ab25dfed6cea/fb5c7/k8s-dashboard.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"53.69496855345912%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB3UlEQVQoz41RXW+cMBD0D22rvvS9f6MfUl/7d/pURWoTNWl6gRwcxxFIgQNsMOY4YLpr7lCSp1oa2d5dj2d3xLdrjYs7jct7DTcyuPEkbjc1nJ3BlVvg+3WCH3c5Lp0CP529jTlha/MvcbVuId59ifH+a4q3nxO8+ZTg9ccYrz5EhAd7nxH/N8Qfx4Prh/ibl0j3FcIogesF2NLO94yQnnGqeYqskMuZOcQmCOD5PoqyQiklJKGpFXhN04hxGDCOA87LxsY5xufjscdANbxzTPjBFr9ufpOyGEUloU2LtjtgGCeM04Sm0WhbgyzLUZYlnVscDgekaYokSZa8UjURjzOh52+otYJUkkKjYHoiG2dFfc8/j8jzHHmWkZKjVcSdKDV3MlCsaRobF0G4QxQnVl1elKgqRaig6gY1/c5Qzems9bNd1TUkkXJtQzFJKoW3CbByXEvGpA/JI7a7CJVUkPyAivnBsqt6xul+RkUxhgi2IR7TzJJZFAW6ziwmcMsMbodbOy82gNsnZ2iG2uZ5NGJN87tdrayyPTndtD10R0THyT40xlgTZoenhZDJ2BSeZUVmdV1n88K5X4PbZlP2lFA1z8hAk3NMpslVhjEdWro/RUVkNc+XZ0gz1brFP5S4MycEV+PQAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"k8s dashboard\",\n    \"title\": \"k8s dashboard\",\n    \"src\": \"/blog/static/9e5dbea1d5a075f4a905ab25dfed6cea/04a72/k8s-dashboard.png\",\n    \"srcSet\": [\"/blog/static/9e5dbea1d5a075f4a905ab25dfed6cea/6a467/k8s-dashboard.png 210w\", \"/blog/static/9e5dbea1d5a075f4a905ab25dfed6cea/635b1/k8s-dashboard.png 420w\", \"/blog/static/9e5dbea1d5a075f4a905ab25dfed6cea/04a72/k8s-dashboard.png 840w\", \"/blog/static/9e5dbea1d5a075f4a905ab25dfed6cea/c6d2c/k8s-dashboard.png 1260w\", \"/blog/static/9e5dbea1d5a075f4a905ab25dfed6cea/27aa4/k8s-dashboard.png 1680w\", \"/blog/static/9e5dbea1d5a075f4a905ab25dfed6cea/fb5c7/k8s-dashboard.png 2544w\"],\n    \"sizes\": \"(max-width: 840px) 100vw, 840px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h3\", null, \"Docker Desktop Dashboard\\uFF08MasOC\\uFF09\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"minikube start\"), \" \\u56DE\\u542F\\u52A8\\u4E00\\u4E2A Docker \\u5BB9\\u5668\\uFF1A\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"840px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/blog/static/051ad9ed46b328a2381f24708388eea4/8b984/docket-desktop-dashboad-minikube.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"62.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABo0lEQVQ4y52SyW7bMBRF9U/dBG6BIuiiu35fWzR1suii3+MgyIA4SW1NpDhIHKSsbt+jrERu7E0XB+Q78rsczOzkh8D7pcJiKbH4lmNxRuNSJ05+anz+ZfDlt3lxEx/ONT5eKJyeC3y6oJ7vOd59LZGtrtfYVAaPmw2eVisUTxW2esBWemxkwLYZ4flETnVjAxRRqoDrIuAqD3ioAzIhFYxpMYQAb1v03uM5RvRUj9Cc6mEHu5iIewQ/kpVCoVEthI20K0srOsg2wnYBzkV0NNrWwdqOcKNzYaTzMORb+u4ozJHLql1goQP+CItceZQmwlAQr8g/vrm5w+3tHe7vH1KTJ88L5HmJy8srrNePiHF4DVS63T+CH5umZg5V2qZ6gr2mq2qUSTv18x1y4CRG4o7XAG6a15P71x8J3N9hCP0Lk5+7uT8YOA/TdNSyrFHXMsE1eyEkiqJCVYl0l+w5+E0gj/M5Xz4HldQo6YnxfbJXdHcVeQ4UoiHfJX808NgC8yMfmme11ClwLg/hfTj6be9P4efgXQetND3gDn0/YBie/5u/saHNAXeGNxUAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"docket desktop dashboad minikube\",\n    \"title\": \"docket desktop dashboad minikube\",\n    \"src\": \"/blog/static/051ad9ed46b328a2381f24708388eea4/04a72/docket-desktop-dashboad-minikube.png\",\n    \"srcSet\": [\"/blog/static/051ad9ed46b328a2381f24708388eea4/6a467/docket-desktop-dashboad-minikube.png 210w\", \"/blog/static/051ad9ed46b328a2381f24708388eea4/635b1/docket-desktop-dashboad-minikube.png 420w\", \"/blog/static/051ad9ed46b328a2381f24708388eea4/04a72/docket-desktop-dashboad-minikube.png 840w\", \"/blog/static/051ad9ed46b328a2381f24708388eea4/c6d2c/docket-desktop-dashboad-minikube.png 1260w\", \"/blog/static/051ad9ed46b328a2381f24708388eea4/27aa4/docket-desktop-dashboad-minikube.png 1680w\", \"/blog/static/051ad9ed46b328a2381f24708388eea4/8b984/docket-desktop-dashboad-minikube.png 2560w\"],\n    \"sizes\": \"(max-width: 840px) 100vw, 840px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h2\", null, \"\\u6253\\u5305 Nodejs \\u5E94\\u7528\\u955C\\u50CF\"), mdx(\"h3\", null, \"\\u521B\\u5EFA Nodejs \\u5E94\\u7528\\u7A0B\\u5E8F\"), mdx(\"p\", null, \"\\u521B\\u5EFA \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"hello-node\"), \" \\u6587\\u4EF6\\u5939\\uFF0C\\u6DFB\\u52A0\\u4EE5\\u4E0B\\u6587\\u4EF6\\u4EE5\\u53CA\\u4EE3\\u7801\\uFF1A\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"server.js\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"var http = require('http');\\n\\nvar handleRequest = function(request, response) {\\n  console.log('Received request for URL: ' + request.url);\\n  response.writeHead(200);\\n  response.end('Hello World!');\\n};\\nvar www = http.createServer(handleRequest);\\nwww.listen(8080);\\n\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Dockerfile\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-dockerfile\"\n  }), \"FROM node:10.20.0\\nEXPOSE 8080\\nCOPY server.js .\\nCMD node server.js\\n\")), mdx(\"h3\", null, \"\\u6253\\u5305\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"docker build -t hello-node:v1 .\\n\")), mdx(\"p\", null, \"\\u751F\\u6210\\u955C\\u50CF\\u5982\\u4E0B\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"docker images\\n# REPOSITORY   TAG      IMAGE ID       CREATED         SIZE\\n# hello-node   v1       353fc3541cea   2 minutes ago   912MB\\n\")), mdx(\"h2\", null, \"\\u521B\\u5EFA Deployment\"), mdx(\"p\", null, \"Kubernetes Pod \\u662F\\u4E00\\u4E2A\\u6216\\u591A\\u4E2A\\u5BB9\\u5668\\u7EC4\\u5408\\u5728\\u4E00\\u8D77\\u5F97\\u5171\\u4EAB\\u8D44\\u6E90\\uFF0CKubernetes Deployment \\u662F\\u68C0\\u67E5 Pod\\u7684\\u5065\\u5EB7\\u72B6\\u51B5\\u3002\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl create deployment hello-node --image=hello-node:v1\\n# \\u8F93\\u51FA\\uFF1Adeployment.apps/hello-node created\\n\\n# \\u67E5\\u770B Deployment\\nkubectl get deployments\\n# NAME         READY   UP-TO-DATE   AVAILABLE   AGE\\n# hello-node   1/1     1            1           19s\\n\\nkubectl run hello-node --image=hello-node:v1 --port=8080\\n# \\u8F93\\u51FA\\uFF1Apod/hello-node created\\n\\n# \\u67E5\\u770B Pod\\nkubectl get pods\\n# NAME         READY   STATUS    RESTARTS   AGE\\n# hello-node   1/1     Running   0          2m56s\\n\")), mdx(\"h3\", null, \"\\u67E5\\u770B\\u7FA4\\u96C6 events\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl get events\\n\")), mdx(\"h3\", null, \"\\u67E5\\u770B kubectl \\u914D\\u7F6E\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl config view\\n\")), mdx(\"h2\", null, \"\\u521B\\u5EFA Service\"), mdx(\"p\", null, \"\\u9ED8\\u8BA4\\u60C5\\u51B5\\uFF0CPod \\u53EA\\u80FD\\u901A\\u8FC7 Kubernetes \\u7FA4\\u96C6\\u5185\\u90E8 IP \\u8BBF\\u95EE\\u3002\\u8981\\u4F7F hello-node \\u5BB9\\u5668\\u4ECE Kubernetes \\u865A\\u62DF\\u7F51\\u7EDC\\u5916\\u90E8\\u8BBF\\u95EE\\uFF0C\\u987B\\u8981\\u4F7F\\u7528 Kubernetes Service \\u66B4\\u9732 Pod\\u3002\"), mdx(\"p\", null, \"\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kubectl expose\"), \" \\u547D\\u4EE4\\u5C06 Pod \\u66B4\\u9732\\u5230\\u5916\\u90E8\\u73AF\\u5883:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl expose deployment hello-node --type=LoadBalancer --port 8080\\n# \\u8F93\\u51FA\\uFF1Aservice/hello-node exposed\\n\\nkubectl get services\\n# NAME         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE\\n# hello-node   LoadBalancer   10.111.51.252   <pending>     8080:31869/TCP   55s\\n# kubernetes   ClusterIP      10.96.0.1       <none>        443/TCP          16h\\n\")), mdx(\"h3\", null, \"\\u6D4F\\u89C8\\u5668\\u8BBF\\u95EE Service\"), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u901A\\u8FC7minikube Service \\u547D\\u4EE4\\u8BBF\\u95EE\\u3002\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"minikube service hello-node\\n\")), mdx(\"p\", null, \"\\u4F1A\\u5373\\u523B\\u6253\\u5F00\\u6D4F\\u89C8\\u5668\\uFF0C\\u663E\\u793A \\u201CHello World\\u201D \\u6D88\\u606F\\u3002\"), mdx(\"h2\", null, \"\\u66F4\\u65B0 Nodejs \\u5E94\\u7528\\u955C\\u50CF\\u548C\\u670D\\u52A1\"), mdx(\"p\", null, \"\\u4FEE\\u6539 Nodejs \\u7A0B\\u5E8F\\u5E76\\u51FA\\u65B0\\u955C\\u50CF\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"docker build -t hello-node:v2 .\\n\")), mdx(\"h3\", null, \"Deployment\\u66F4\\u65B0\\u955C\\u50CF\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl set image deployment/hello-node hello-node=hello-node:v2\\n\")), mdx(\"h3\", null, \"\\u66F4\\u65B0\\u670D\\u52A1\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"minikube service hello-node\\n\")), mdx(\"h2\", null, \"\\u6E05\\u7406\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u6E05\\u7406\\u96C6\\u7FA4\\u4E2D\\u7684\\u8D44\\u6E90\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl delete service hello-node\\nkubectl delete deployment hello-node\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u670D\\u52A1\\u505C\\u7528\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"minikube stop\\n\")))), mdx(\"h2\", null, \"\\u9047\\u5230\\u95EE\\u9898\\u5904\\u7406\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kubectl get nodes\"), \" \\u62A5\\u9519 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"The connection to the server 127.0.0.1:55000 was refused - did you specify the right host or port?\")), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u89E3\\u51B3\\u65B9\\u6CD5\\uFF1A\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"rm -rf ~/.kube\\n\\n# \\u91CD\\u542F docker desktop\\n\\nminikube start\\n\")))), mdx(\"h2\", null, \"\\u53C2\\u8003\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://docs.kubernetes.org.cn/126.html\"\n  }), \"\\u4F7F\\u7528 Minikube \\u5728 Kubernetes \\u4E2D\\u8FD0\\u884C\\u5E94\\u7528\"))));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"value":"Kubernetes 简介","depth":2},{"value":"Minikube 简介","depth":2},{"value":"MacOS 系统安装依赖","depth":2},{"value":"安装依赖","depth":3},{"value":"启动","depth":3},{"value":"Minikube Dashboard","depth":3},{"value":"Docker Desktop Dashboard（MasOC）","depth":3},{"value":"打包 Nodejs 应用镜像","depth":2},{"value":"创建 Nodejs 应用程序","depth":3},{"value":"打包","depth":3},{"value":"创建 Deployment","depth":2},{"value":"查看群集 events","depth":3},{"value":"查看 kubectl 配置","depth":3},{"value":"创建 Service","depth":2},{"value":"浏览器访问 Service","depth":3},{"value":"更新 Nodejs 应用镜像和服务","depth":2},{"value":"Deployment更新镜像","depth":3},{"value":"更新服务","depth":3},{"value":"清理","depth":2},{"value":"遇到问题处理","depth":2},{"value":"参考","depth":2}],"frontmatter":{"title":"Kubernetes 管理 Docker 容器","date":"2020-12-18","description":"MacOS 平台 Kubernetes 管理 Docker 容器"}},"file":{"relativePath":"k8s.pdf","publicURL":"/blog/static/k8s-b9eceaac3062ac2bf692543c337f0b2b.pdf"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/k8s/","previous":{"fields":{"slug":"/portainer-docker-ui/"},"frontmatter":{"title":"Portainer 搭建 Docker 管理界面"}},"next":{"fields":{"slug":"/flex/"},"frontmatter":{"title":"Flex 布局"}}}}}