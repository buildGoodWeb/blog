{"componentChunkName":"component---src-templates-blog-post-js","path":"/locale/","webpackCompilationHash":"fe4b98b4e443afde89a7","result":{"data":{"mdx":{"id":"71519c21-9918-52bc-8500-e01e663f2605","excerpt":"使用  react-intl  提供翻译支持。 安装 使用思路 使用  localStorage  缓存当前语言，并在切换时  reload  到更新语言的界面； 使用  IntlProvider ,  FormattedMessage…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"多语言支持\",\n  \"date\": \"2019-10-09T00:00:00.000Z\",\n  \"tag\": \"React, i18n\",\n  \"description\": \"网站支持多个语言切换\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u4F7F\\u7528 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/formatjs/react-intl\"\n  }), \"react-intl\"), \" \\u63D0\\u4F9B\\u7FFB\\u8BD1\\u652F\\u6301\\u3002\")), mdx(\"h2\", null, \"\\u5B89\\u88C5\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn add react-intl -D\\n\")), mdx(\"h2\", null, \"\\u4F7F\\u7528\\u601D\\u8DEF\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"localStorage\"), \" \\u7F13\\u5B58\\u5F53\\u524D\\u8BED\\u8A00\\uFF0C\\u5E76\\u5728\\u5207\\u6362\\u65F6 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"reload\"), \" \\u5230\\u66F4\\u65B0\\u8BED\\u8A00\\u7684\\u754C\\u9762\\uFF1B\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"IntlProvider\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"FormattedMessage\"), \" \\u4E24\\u4E2A\\u7EC4\\u4EF6\\u8FBE\\u5230\\u66F4\\u65B0\\u540E\\u65B0\\u7684\\u6587\\u672C\\u5728\\u5404\\u4E2A\\u7EC4\\u4EF6\\u4E4B\\u95F4\\u7684\\u6E32\\u67D3\\u3002\\u53C2\\u7167\\u793A\\u4F8B\\uFF1A\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"// App.jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { IntlProvider, FormattedMessage } from 'react-intl';\\n\\nconst App = () => {\\n  return (\\n    <div>\\n      <FormattedMessage id=\\\"welcome\\\"/>\\n    </div>\\n  )\\n}\\n\\nexport default App;\\n\\n// index.jsx\\nReactDOM.render(\\n  <IntlProvider locale=\\\"en\\\" messages={{ welcome: 'Welcome !' }}> \\n    <App />\\n  </IntlProvider>,\\n  document.getElementById('container')\\n);\\n\")), mdx(\"h2\", null, \"\\u5177\\u4F53\\u5B9E\\u73B0\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u76F8\\u5173 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/xsky-fe/wizard-ui-pro/pull/4\"\n  }), \"pr\"))), mdx(\"h3\", null, \"\\u5BF9\\u5E94\\u8BED\\u8A00\\u7684\\u7FFB\\u8BD1\"), mdx(\"p\", null, \"\\u5728 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"locales\"), \" \\u4E0B\\u9762\\u6DFB\\u52A0 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"en-US\"), \"\\u3001\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"zh-CN\"), \" \\u4E24\\u4E2A\\u6587\\u4EF6\\uFF0C\\u5E76\\u5728\\u5176\\u4E2D\\u8865\\u5145\\u952E\\u503C\\u5BF9\\u7FFB\\u8BD1\\uFF0C\\u7FFB\\u8BD1\\u9897\\u7C92\\u5EA6\\u7EC6\\u5316\\u5230\\u7EC4\\u4EF6\\u7EA7\\u522B\\uFF0C\\u4F8B\\u5982 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SideBar\"), \" \\u5BF9\\u5E94\\u82F1\\u6587\\u7FFB\\u8BD1\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"export default {\\n  'app.sidebar.overview': 'Overview',\\n  'app.sidebar.nav1': 'Navigation-1',\\n  'app.sidebar.basic': 'Basic',\\n  'app.sidebar.list': 'List',\\n}\\n\")), mdx(\"h3\", null, mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"LocaleProvider\"), \" \\u63D0\\u4F9B\\u591A\\u8BED\\u8A00\\u7FFB\\u8BD1\"), mdx(\"p\", null, \"\\u901A\\u8FC7 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"IntlProvider\"), \" \\u7684 locale \\u548C message \\u63D0\\u4F9B\\u8BED\\u8A00\\u4EE5\\u53CA\\u5BF9\\u5E94\\u7684\\u7FFB\\u8BD1\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import React from 'react';\\nimport { IntlProvider } from 'react-intl';\\nimport zh_CN from '../../locales/zh-CN';\\nimport en_US from '../../locales/en-US';\\nconst localeInfo = {\\n  'zh-CN': {\\n    appLocale: 'zh',\\n    appMessages: zh_CN,\\n  },\\n  'en-US': {\\n    appLocale: 'en',\\n    appMessages: en_US,\\n  },\\n};\\n\\nexport default props => {\\n  const { locale, children } = props;\\n  const myLocale = localeInfo[locale];\\n  return (\\n    <IntlProvider locale={myLocale.appLocale} messages={myLocale.appMessages}>\\n      {React.Children.only(children)}\\n    </IntlProvider>\\n  );\\n}\\n\")), mdx(\"h3\", null, \"\\u6587\\u672C\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"FormattedMessage\"), \" \\u7EC4\\u4EF6\\u66FF\\u6362\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FormattedMessage\"), \" \\u66FF\\u6362\\u539F\\u6709\\u6587\\u672C\\uFF0C\\u6BD4\\u5982\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"<FormattedMessage id=\\\"app.sidebar.overview\\\"/>\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"value":"安装","depth":2},{"value":"使用思路","depth":2},{"value":"具体实现","depth":2},{"value":"对应语言的翻译","depth":3},{"value":"LocaleProvider 提供多语言翻译","depth":3},{"value":"文本使用 FormattedMessage 组件替换","depth":3}],"frontmatter":{"title":"多语言支持","date":"2019-10-09","description":"网站支持多个语言切换"}},"file":{"relativePath":"locale.pdf","publicURL":"/blog/static/locale-b5ec38b26369a9b386150296de048422.pdf"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/locale/","previous":{"fields":{"slug":"/mock-data/"},"frontmatter":{"title":"数据 mock"}},"next":{"fields":{"slug":"/package-analysis-tool/"},"frontmatter":{"title":"包分析工具"}}}}}